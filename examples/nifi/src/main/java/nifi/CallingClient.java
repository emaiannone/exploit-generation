package nifi;

import org.apache.nifi.cluster.coordination.http.replication.PreparedRequest;
import org.apache.nifi.cluster.coordination.http.replication.okhttp.OkHttpReplicationClient;
import org.apache.nifi.util.NiFiProperties;

import java.util.HashMap;

public class CallingClient {

    private OkHttpReplicationClient ok;

    public CallingClient(NiFiProperties niFiProperties) {
        /*
        Properties properties = new Properties();
        NiFiProperties niFiProperties = new NiFiProperties() {
            @Override
            public String getProperty(String key) {
                return properties.getProperty(key);
            }

            @Override
            public Set<String> getPropertyKeys() {
                return properties.stringPropertyNames();
            }
        };
        */
        this.ok = new OkHttpReplicationClient(niFiProperties);
    }

    public void call(String method, HashMap<String, String> headers, PreparedRequest entity) {
        // DELETE, headers.put("Content-Length", "10") and null
        this.ok.prepareRequest(method, headers, entity);
    }

}

package jenkinsmailer;

import hudson.tasks.Mailer;
import hudson.util.Secret;

import javax.servlet.ServletException;
import java.io.IOException;

public class CallingClient2 {

    private Mailer.DescriptorImpl descriptor;

    public CallingClient2(Mailer.DescriptorImpl descriptor) {
        this.descriptor = descriptor;
    }

    public void call(String smtpServer,
                     String adminAddress,
                     boolean useSMTPAuth,
                     String smtpAuthUserName,
                     Secret smtpAuthPasswordSecret,
                     boolean useSsl,
                     String smtpPort,
                     String charset,
                     String sendTestMailTo) throws ServletException, InterruptedException, IOException {
        throw this.descriptor.doSendTestMail(smtpServer,
                adminAddress,
                useSMTPAuth,
                smtpAuthUserName,
                smtpAuthPasswordSecret,
                useSsl,
                smtpPort,
                charset,
                sendTestMailTo);
    }

}

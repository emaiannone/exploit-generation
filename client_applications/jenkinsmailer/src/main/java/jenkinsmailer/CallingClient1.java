package jenkinsmailer;

import hudson.tasks.Mailer;
import hudson.util.Secret;

import javax.servlet.ServletException;
import java.io.IOException;

public class CallingClient1 {

    private Mailer.DescriptorImpl descriptor;

    public CallingClient1() {
        this.descriptor = new Mailer.DescriptorImpl();
    }

    public void call(String smtpServer,
                     String adminAddress,
                     boolean useSMTPAuth,
                     String smtpAuthUserName,
                     Secret smtpAuthPasswordSecret,
                     boolean useSsl,
                     String smtpPort,
                     String charset,
                     String sendTestMailTo) throws IOException, InterruptedException, ServletException {
        throw this.descriptor.doSendTestMail(smtpServer,
                adminAddress,
                useSMTPAuth,
                smtpAuthUserName,
                smtpAuthPasswordSecret,
                useSsl,
                smtpPort,
                charset,
                sendTestMailTo);
    }

}
